---
import { Image as AstroImage } from 'astro:assets';

export interface Props {
  src: string | ImageMetadata;
  alt: string;
  width?: number;
  height?: number;
  loading?: 'lazy' | 'eager';
  class?: string;
  [key: string]: any;
}

const {
  src,
  alt,
  width,
  height,
  loading = 'lazy',
  class: className = '',
  ...props
} = Astro.props;

// If src is a string (external URL), use regular img tag
const isExternal = typeof src === 'string';
---

{
	isExternal ? (
		<img
			src={src}
			alt={alt}
			width={width}
			height={height}
			loading={loading}
			class={className}
			{...props}
		/>
	) : (
		<AstroImage
			src={src}
			alt={alt}
			width={width}
			height={height}
			loading={loading}
			class={className}
			{...props}
		/>
	)
}
