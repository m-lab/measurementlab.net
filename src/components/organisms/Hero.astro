---
import HouseCard from '@components/molecules/HouseCard.astro';
import type { ImageMetadata } from 'astro';

export interface Props {
  title: string;
  subtitle?: string;
  align?: 'left' | 'center' | 'right';
  size?: 'default' | 'large';
  background?: {
    style: 'light' | 'dark';
    color: 'primary' | 'secondary' | 'supporting1' | 'supporting2';
    image?: ImageMetadata;
  };
  class?: string;
}

const {
  title,
  subtitle,
  align = 'center',
  size = 'default',
  background = { style: 'light', color: 'primary' },
  class: className = '',
} = Astro.props;

const alignments = {
  left: 'text-left',
  center: 'text-center',
  right: 'text-right',
};

const sizes = {
  default: 'py-8 md:py-12',
  large: 'py-24 md:py-32 lg:py-40',
};

// Map color + style combinations to Tailwind classes
const getBackgroundClasses = () => {
  const { style = 'light', color = 'primary', image } = background;

  // Base color classes based on style (light/dark) and color
  const colorClasses = {
    light: {
      primary: 'bg-primary-100',
      secondary: 'bg-secondary-100',
      supporting1: 'bg-supporting1-100',
      supporting2: 'bg-supporting2-100',
    },
    dark: {
      primary: 'bg-primary-900 text-white',
      secondary: 'bg-secondary-900 text-white',
      supporting1: 'bg-supporting1-900 text-white',
      supporting2: 'bg-supporting2-900 text-white',
    },
  };

  return colorClasses[style][color];
};

const containerClasses = `${sizes[size]} ${getBackgroundClasses()} ${className}`;
---

<section id="heroContent" class={containerClasses}>
	<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
		<!-- <HouseCard title={title} description={subtitle} /> -->
		<div class={`mx-auto max-w-3xl ${alignments[align]}`}>
			<!-- Title -->
			<h1 class="mb-6">
				{title}
			</h1>

			<!-- Subtitle -->
			{subtitle && <p class="text-gray-600 mb-8">{subtitle}</p>}

			<!-- Actions Slot -->
			<!-- <div class="flex flex-wrap justify-center gap-4">
				<slot name="actions">
					<Button variant="primary" size="lg"> Get Started </Button>
				</slot>
			</div> -->

			<!-- Additional Content Slot -->
			<div class="mt-12">
				<slot />
			</div>
		</div>
	</div>
</section>

<style>
	#heroContent {
		mask: conic-gradient(from 45deg at 80px 80px, #000 75%, #0000 0) -80px;
	}
</style>
