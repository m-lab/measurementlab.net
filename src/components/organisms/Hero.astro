---
import Button from '@components/atoms/Button.astro';
import Heading from '@components/atoms/Heading.astro';
import Text from '@components/atoms/Text.astro';
import type { ImageMetadata } from 'astro';

export interface Props {
  title: string;
  subtitle?: string;
  align?: 'left' | 'center' | 'right';
  size?: 'default' | 'large';
  background?: {
    style?: 'light' | 'dark';
    color?: 'primary' | 'secondary' | 'supporting1' | 'supporting2';
    image?: ImageMetadata;
  };
  class?: string;
}

const {
  title,
  subtitle,
  align = 'center',
  size = 'default',
  background = { style: 'light', color: 'primary' },
  class: className = '',
} = Astro.props;

const alignments = {
  left: 'text-left',
  center: 'text-center',
  right: 'text-right',
};

const sizes = {
  default: 'py-8 md:py-12',
  large: 'py-24 md:py-32 lg:py-40',
};

// Map color + style combinations to Tailwind classes
const getBackgroundClasses = () => {
  const { style = 'light', color = 'primary', image } = background;

  // Base color classes based on style (light/dark) and color
  const colorClasses = {
    light: {
      primary: 'bg-primary-50',
      secondary: 'bg-secondary-50',
      supporting1: 'bg-supporting1-50',
      supporting2: 'bg-supporting2-50',
    },
    dark: {
      primary: 'bg-primary-900 text-white',
      secondary: 'bg-secondary-900 text-white',
      supporting1: 'bg-supporting1-900 text-white',
      supporting2: 'bg-supporting2-900 text-white',
    },
  };

  return colorClasses[style][color];
};

const containerClasses = `${sizes[size]} ${getBackgroundClasses()} ${className}`;
---

<section class={containerClasses}>
	<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
		<div id="heroContent" class={`mx-auto max-w-3xl ${alignments[align]}`}>
			<!-- Title -->
			<Heading level={1} class="mb-6">
				{title}
			</Heading>

			<!-- Subtitle -->
			{
				subtitle && (
					<Text size="xl" class="text-gray-600 mb-8">
						{subtitle}
					</Text>
				)
			}

			<!-- Actions Slot -->
			<!-- <div class="flex flex-wrap justify-center gap-4">
				<slot name="actions">
					<Button variant="primary" size="lg"> Get Started </Button>
				</slot>
			</div> -->

			<!-- Additional Content Slot -->
			<div class="mt-12">
				<slot />
			</div>
		</div>
	</div>
</section>
