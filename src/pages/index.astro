---
import { getEntry } from 'astro:content';
import Button from '@components/atoms/Button.astro';
import Heading from '@components/atoms/Heading.astro';
import Text from '@components/atoms/Text.astro';
import Card from '@components/molecules/Card.astro';
import Hero from '@components/organisms/Hero.astro';
import CallToAction from '@components/sections/CallToAction.astro';
import PageLayout from '@layouts/PageLayout.astro';
import SectionLayout from '@layouts/SectionLayout.astro';
import InsightsIcon from '~icons/m-lab/insights'

// Fetch site config from content collection
const siteConfigEntry = await getEntry('site', 'config');

if (!siteConfigEntry) {
  throw new Error('Site configuration not found');
}

const siteConfig = siteConfigEntry.data;


---

<PageLayout title={siteConfig.title} description={siteConfig.description}>
	<!-- Hero Section -->
	<Hero
		title={siteConfig.title}
		subtitle={siteConfig.description}
		background="gradient"
	>
		<Fragment slot="actions">
			<Button variant="primary" size="lg" as="a" href="/markdown-page">
				Get Started
			</Button>
			<Button
				variant="outline"
				size="lg"
				as="a"
				href="https://docs.astro.build"
				class="hover:text-blue-600 border-white text-white hover:bg-white"
			>
				View Docs
			</Button>
		</Fragment>
	</Hero>

	<!-- Features Section -->
	<SectionLayout>
		<div class="mb-12 text-center">
			<div class="text-primary-500">
				<InsightsIcon width={500} height={500} />
			</div>

			<Heading level={2} class="mb-4"> Component Architecture </Heading>
			<Text size="lg" class="text-gray-600">
				Organized from atomic components to complete page layouts
			</Text>
		</div>

		<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-4">
			<Card variant="bordered">
				<Heading level={4} class="text-blue-600 mb-3"> Atoms </Heading>
				<Text size="sm" class="text-gray-600">
					Basic building blocks like buttons, links, and headings
				</Text>
			</Card>

			<Card variant="bordered">
				<Heading level={4} class="text-blue-600 mb-3"> Molecules </Heading>
				<Text size="sm" class="text-gray-600">
					Simple combinations like cards, navigation items, and form fields
				</Text>
			</Card>

			<Card variant="bordered">
				<Heading level={4} class="text-blue-600 mb-3"> Organisms </Heading>
				<Text size="sm" class="text-gray-600">
					Complex components like navigation bars, footers, and hero sections
				</Text>
			</Card>

			<Card variant="bordered">
				<Heading level={4} class="text-blue-600 mb-3"> Layouts </Heading>
				<Text size="sm" class="text-gray-600"> Complete page structures </Text>
			</Card>
		</div>
	</SectionLayout>

	<!-- CTA Section -->
	<CallToAction
		title="Ready to Start Building?"
		description="Use this scaffold as a foundation for your next project"
		primaryAction={{
			label: 'README.md',
			href: 'https://github.com/draftlab-org/scaffold',
		}}
		background="white"
	/>
</PageLayout>
